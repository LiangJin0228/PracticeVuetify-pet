import{p as _,a_ as S,b as x,d as O,am as B,aM as $,g as F,v as N,a$ as D,aN as I,h as R,f as A,r as L,w as p,o as M,u as U,aP as k,c as s,y as b,_ as j,aY as G,G as Y,A as q,B as z,C as m,F as d,$ as h,D as E}from"./index-80be9044.js";import{V}from"./VContainer-64a4d996.js";import{V as H}from"./VBtn-dd76b874.js";import{f as J}from"./forwardRefs-e2994a01.js";import{m as K,u as Q}from"./position-ba23dede.js";import{d as W,f as X,g as Z,V as ee}from"./index-4dbf2435.js";/* empty css              */import"./group-cd1e6cf3.js";const ae=_({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...S({location:"bottom"}),...K(),...x(),...W(),...O(),...B($({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),te=F()({name:"VSnackbar",props:ae(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:o}=a;const t=N(e,"modelValue"),{locationStyles:v}=D(e),{positionClasses:l}=Q(e),{scopeId:c}=I(),{themeClasses:n}=R(e),{colorClasses:P,colorStyles:g,variantClasses:y}=X(e),{roundedClasses:w}=A(e),f=L();p(t,i),p(()=>e.timeout,i),M(()=>{t.value&&i()});let u=-1;function i(){window.clearTimeout(u);const r=Number(e.timeout);!t.value||r===-1||(u=window.setTimeout(()=>{t.value=!1},r))}function C(){window.clearTimeout(u)}return U(()=>{const[r]=k.filterProps(e);return s(k,b({ref:f,class:["v-snackbar",{"v-snackbar--active":t.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},l.value,e.class],style:e.style},r,{modelValue:t.value,"onUpdate:modelValue":T=>t.value=T,contentProps:b({class:["v-snackbar__wrapper",n.value,P.value,w.value,y.value],style:[v.value,g.value],onPointerenter:C,onPointerleave:i},r.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},c),{default:()=>[Z(!1,"v-snackbar"),o.default&&s("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[o.default()]),o.actions&&s(ee,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[s("div",{class:"v-snackbar__actions"},[o.actions()])]})],activator:o.activator})}),J({},f)}}),se={data:()=>({timer:null,time:60,loading:!1,snackbar:!1,snackbarColor:"default",otp:"",text:"",expectedOtp:"123456",username:"DogCom"}),mounted(){this.timer=setInterval(this.countdown,1e3)},methods:{async onFinish(e){this.loading=!0,setTimeout(()=>{this.loading=!1,this.snackbarColor=e===this.expectedOtp?"success":"warning",this.text=`Processed OTP with "${e}" (${this.snackbarColor})`,this.snackbar=!0},1e3),e===this.expectedOtp&&(await new Promise(a=>setTimeout(a,3e3)),G.push({name:"ResetPassword",params:{username:this.username}}))},countdown(){this.time--,this.time==0&&clearInterval(this.timer)},resendOTP(){}},beforeDestroy(){clearInterval(this.timer)}},oe=d("span",{class:"text-h4"},[d("strong",null,"請輸入驗證碼")],-1);function ne(e,a,o,t,v,l){const c=Y("v-otp-input");return q(),z(V,{class:"d-flex flex-column fill-height justify-center"},{default:m(()=>[oe,s(c,{modelValue:e.otp,"onUpdate:modelValue":a[0]||(a[0]=n=>e.otp=n),type:"password",loading:e.loading,onFinish:l.onFinish},null,8,["modelValue","loading","onFinish"]),s(V,{class:"d-flex flex-row justify-center align-center"},{default:m(()=>[d("div",null,"驗證碼將在"+h(e.time)+"秒后失效",1),s(H,{class:"mx-5 bg-success",text:"重新發送",onClick:l.resendOTP},null,8,["onClick"])]),_:1}),s(te,{modelValue:e.snackbar,"onUpdate:modelValue":a[1]||(a[1]=n=>e.snackbar=n),color:e.snackbarColor,timeout:2e3},{default:m(()=>[E(h(e.text),1)]),_:1},8,["modelValue","color"])]),_:1})}const fe=j(se,[["render",ne]]);export{fe as default};
